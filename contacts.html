<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Контакты | Свяжитесь со мной</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <a class="skip-link" href="#main">Перейти к основному содержимому</a>

    <header class="header">
        <div class="container header__inner">
            <span class="logo">MyPortfolio</span>
            <nav class="nav" aria-label="Основная навигация">
                <ul class="nav__list">
                    <li><a href="index.html" class="nav__link">Главная</a></li>
                    <li><a href="contacts.html" class="nav__link" aria-current="page">Контакты</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main" class="main container">
        <section class="contact-section">
            <h1 class="page-title">Свяжитесь со мной</h1>
            <p class="page-desc">Заполните форму ниже, и я отвечу вам в течение 24 часов.</p>

            <!-- Атрибут novalidate отключает стандартные браузерные подсказки, чтобы мы могли стилизовать свои -->
            <form class="contact-form" action="#" method="POST" novalidate aria-labelledby="form-title">
                <div id="form-title" class="sr-only">Форма обратной связи</div>

                <p class="form-instruction">Поля, отмеченные <span class="required" aria-hidden="true">*</span>, обязательны для заполнения.</p>

                <!-- Группировка личных данных -->
                <fieldset class="form-group-set">
                    <legend class="form-legend">Контактные данные</legend>

                    <div class="form-group">
                        <label for="name">
                            Ваше имя <span class="required" aria-hidden="true">*</span>
                        </label>
                        <input type="text" id="name" name="name"
                               required
                               aria-required="true"
                               autocomplete="name"
                               placeholder="Иван Иванов">
                    </div>

                    <div class="form-group">
                        <label for="email">
                            Email <span class="required" aria-hidden="true">*</span>
                        </label>
                        <input type="email" id="email" name="email"
                               required
                               aria-required="true"
                               autocomplete="email"
                               aria-describedby="email-help"
                               placeholder="example@mail.com">
                        <!-- Связанное описание -->
                        <span id="email-help" class="help-text">На этот адрес будет отправлен ответ.</span>
                    </div>
                </fieldset>

                <!-- Группировка деталей обращения -->
                <fieldset class="form-group-set">
                    <legend class="form-legend">Детали обращения</legend>

                    <div class="form-group">
                        <label for="topic">Тема обращения</label>
                        <div class="select-wrapper">
                            <select id="topic" name="topic">
                                <option value="general">Общий вопрос</option>
                                <option value="project">Заказ разработки</option>
                                <option value="bug">Сообщить об ошибке</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="message">
                            Сообщение <span class="required" aria-hidden="true">*</span>
                        </label>
                        <textarea id="message" name="message"
                                  rows="5"
                                  required
                                  aria-required="true"
                                  placeholder="Опишите вашу задачу..."></textarea>
                    </div>
                </fieldset>

                <button type="submit" class="btn btn--primary btn--wide">Отправить сообщение</button>

                <!-- Live Region для динамических уведомлений (успех/ошибка) -->
                <div id="form-status" role="status" aria-live="polite" class="form-status"></div>
            </form>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Студент. Все права защищены.</p>
        </div>
    </footer>

    <!-- Простой скрипт для демонстрации aria-invalid (по заданию) -->
    <script>
        document.querySelector('form').addEventListener('submit', function(e) {
            e.preventDefault();
            const inputs = this.querySelectorAll('input[required], textarea[required]');
            let hasError = false;

            inputs.forEach(input => {
                if (!input.value.trim()) {
                    input.setAttribute('aria-invalid', 'true');
                    // Можно добавить класс ошибки для CSS
                    input.classList.add('input-error');
                    hasError = true;
                } else {
                    input.setAttribute('aria-invalid', 'false');
                    input.classList.remove('input-error');
                }
            });

            const status = document.getElementById('form-status');
            if (hasError) {
                status.textContent = "Пожалуйста, заполните все обязательные поля.";
                status.className = "form-status error";
            } else {
                status.textContent = "Сообщение успешно отправлено!";
                status.className = "form-status success";
                this.reset();
            }
        });
    </script>
</body>
</html>
